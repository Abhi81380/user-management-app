import{A as q,C as z,E as G,F as H,G as J,H as K,I as Q,J as X,K as Y,k as I,l as P,m as B,n as O,o as R,p as V,q as F,r as T,t as W,u as D,v as L,w as j,x as A}from"./chunk-2XRAB772.js";import{$ as u,Ab as k,Bb as N,Ca as b,Ea as _,Eb as E,I as d,Ib as U,J as m,Jb as x,Pa as v,Ta as o,Xa as p,Ya as f,Za as g,ea as s,eb as y,ha as C,pb as w,sa as h,ta as r,ua as t,yb as S}from"./chunk-6WNNTPSF.js";var Z=class M{constructor(e,l,i,n,c){this.userService=e;this.route=l;this.router=i;this.snackBar=n;this.cdRef=c}userId;user={firstName:"",lastName:"",email:""};ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e?(this.userId=+e,this.loadUser()):(this.snackBar.open("\u26A0\uFE0F Invalid user ID.","Close",{duration:2500,panelClass:["warn-snackbar"]}),this.router.navigate(["/home/app-user-list"]))}loadUser(){this.userService.getUserById(this.userId).subscribe({next:e=>{this.user=e,this.cdRef.detectChanges()},error:e=>{console.error("\u274C Failed to load user:",e),this.snackBar.open("\u274C Could not load user details.","Close",{duration:3e3,panelClass:["error-snackbar"]}),this.router.navigate(["/home/app-user-list"])}})}updateUser(){if(!this.user.firstName||!this.user.lastName||!this.user.email){this.snackBar.open("\u26A0\uFE0F Please fill all fields.","Close",{duration:2500,panelClass:["warn-snackbar"]});return}this.userService.updateUser(this.userId,this.user).subscribe({next:e=>{console.log("\u2705 User updated:",e),this.snackBar.open("\u2705 User updated successfully!","Close",{duration:2500,panelClass:["success-snackbar"]}),setTimeout(()=>{this.router.navigate(["/home/app-user-list"])},400)},error:e=>{console.error("\u274C Error updating user:",e),this.snackBar.open("\u274C Failed to update user. Try again.","Close",{duration:3e3,panelClass:["error-snackbar"]})}})}cancel(){this.router.navigate(["/home/app-user-list"])}static \u0275fac=function(l){return new(l||M)(s(F),s(S),s(k),s(X),s(y))};static \u0275cmp=C({type:M,selectors:[["app-user-edit"]],decls:29,vars:4,consts:[["f","ngForm"],[1,"add-user-card","mat-elevation-z4"],["color","primary",1,"toolbar"],[1,"form-container",3,"ngSubmit"],["appearance","outline",1,"form-field"],["matInput","","name","firstName","required","","autocomplete","off",3,"ngModelChange","ngModel"],["matInput","","name","lastName","required","","autocomplete","off",3,"ngModelChange","ngModel"],["matInput","","name","email","type","email","required","","autocomplete","off",3,"ngModelChange","ngModel"],[1,"action-buttons"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],["mat-stroked-button","","color","warn","routerLink","/home/app-user-list"]],template:function(l,i){if(l&1){let n=b();r(0,"mat-card",1)(1,"mat-toolbar",2)(2,"mat-icon"),o(3,"person_add"),t(),r(4,"span"),o(5,"Add New User"),t()(),r(6,"form",3,0),_("ngSubmit",function(){return d(n),m(i.updateUser())}),r(8,"mat-form-field",4)(9,"mat-label"),o(10,"First Name"),t(),r(11,"input",5),g("ngModelChange",function(a){return d(n),f(i.user.firstName,a)||(i.user.firstName=a),m(a)}),t()(),r(12,"mat-form-field",4)(13,"mat-label"),o(14,"Last Name"),t(),r(15,"input",6),g("ngModelChange",function(a){return d(n),f(i.user.lastName,a)||(i.user.lastName=a),m(a)}),t()(),r(16,"mat-form-field",4)(17,"mat-label"),o(18,"Email"),t(),r(19,"input",7),g("ngModelChange",function(a){return d(n),f(i.user.email,a)||(i.user.email=a),m(a)}),t()(),r(20,"div",8)(21,"button",9)(22,"mat-icon"),o(23,"save"),t(),o(24," Save User "),t(),r(25,"button",10)(26,"mat-icon"),o(27,"cancel"),t(),o(28," Cancel "),t()()()()}if(l&2){let n=v(7);u(11),p("ngModel",i.user.firstName),u(4),p("ngModel",i.user.lastName),u(4),p("ngModel",i.user.email),u(2),h("disabled",n.invalid)}},dependencies:[w,z,A,T,W,D,q,j,L,E,N,O,B,J,H,G,Q,K,P,I,V,R,x,U,Y],styles:[".add-user-card[_ngcontent-%COMP%]{max-width:500px;margin:60px auto;padding:0;border-radius:12px;overflow:hidden;background:#fff}.add-user-card[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;display:flex;align-items:center;gap:10px}.add-user-card[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:24px;gap:16px}.add-user-card[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{width:100%}.add-user-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:12px}.add-user-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:120px}.success-snackbar[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.error-snackbar[_ngcontent-%COMP%]{background-color:#f44336!important;color:#fff}.warn-snackbar[_ngcontent-%COMP%]{background-color:#ff9800!important;color:#fff}"]})};export{Z as UserEdit};
